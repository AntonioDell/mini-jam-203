[gd_scene format=3 uid="uid://btbgpiodf52hp"]

[ext_resource type="Script" uid="uid://x6nfo0koaxjj" path="res://level.gd" id="1_vonw3"]
[ext_resource type="PackedScene" uid="uid://b4b7cvlcguvof" path="res://olive_collection/olive_collection_controller.tscn" id="2_0b4ue"]
[ext_resource type="PackedScene" uid="uid://bijo6npvvkc2f" path="res://attacker/attacker_controller.tscn" id="2_aicyk"]
[ext_resource type="PackedScene" uid="uid://b1avv1fyv2bpk" path="res://oil_refinery/oil_refinery_controller.tscn" id="2_km5ld"]
[ext_resource type="PackedScene" uid="uid://eemw44ccclcd" path="res://game_controller.tscn" id="2_v5j5c"]
[ext_resource type="PackedScene" uid="uid://dl4d6w6yy6jvs" path="res://olive_collection/olive_tree.tscn" id="2_vonw3"]
[ext_resource type="PackedScene" uid="uid://stc5nq6aj0dw" path="res://settings_container.tscn" id="3_4c15r"]
[ext_resource type="Script" uid="uid://dr2xkieskyly1" path="res://holder_resource.gd" id="3_oi3di"]
[ext_resource type="PackedScene" uid="uid://b1rosb3f76rkd" path="res://boiling/boiling_station_controller.tscn" id="4_8cye3"]
[ext_resource type="AudioStream" uid="uid://crrcvpk7k2h1t" path="res://1_sound/loop.mp3" id="4_fj6e6"]
[ext_resource type="Script" uid="uid://diptdiwf7nxnw" path="res://tutorial.gd" id="4_mleqk"]
[ext_resource type="PackedScene" uid="uid://bpgkxqylobu5h" path="res://wall/wall_controller.tscn" id="5_2orkt"]
[ext_resource type="Theme" uid="uid://d1wh1k547oikb" path="res://tutorial_theme.tres" id="5_6btg4"]
[ext_resource type="PackedScene" uid="uid://dnhpqe5uidffi" path="res://olive_collection/olive_transporter.tscn" id="5_f2txt"]
[ext_resource type="PackedScene" uid="uid://brv6wkifv0h1i" path="res://wave_controller.tscn" id="7_h6smj"]
[ext_resource type="PackedScene" uid="uid://rk807chw8e65" path="res://oil_refinery/oil_refinery.tscn" id="7_n6hdu"]
[ext_resource type="PackedScene" uid="uid://ci4gdrt0lv6yn" path="res://boiling/boiling_station.tscn" id="9_8cye3"]
[ext_resource type="PackedScene" uid="uid://cyo02kph1qupo" path="res://wall/wall.tscn" id="10_8cye3"]
[ext_resource type="PackedScene" uid="uid://yo81i4nregxs" path="res://wall/wall_oil_pour.tscn" id="13_8b0r0"]
[ext_resource type="Texture2D" uid="uid://mvsdkg5owodt" path="res://0_sprites/original/Bg.png" id="14_mleqk"]
[ext_resource type="Texture2D" uid="uid://c3acg1jj14cps" path="res://0_sprites/original/floor_2.png" id="14_yjxuc"]
[ext_resource type="Texture2D" uid="uid://cc4kfukuu6pgk" path="res://0_sprites/original/FarmFrame_1.png" id="16_6btg4"]
[ext_resource type="Theme" uid="uid://cnjgl72dvtjf4" path="res://theme.tres" id="17_fedht"]
[ext_resource type="AudioStream" uid="uid://gxx2k4cag041" path="res://1_sound/enemyhit1.mp3" id="18_ilwjd"]
[ext_resource type="AudioStream" uid="uid://bjds6c84xokwq" path="res://1_sound/enemyhit2.mp3" id="19_y3bce"]
[ext_resource type="AudioStream" uid="uid://bosmj0khnv3v0" path="res://1_sound/enemyhit3.mp3" id="20_u3yai"]
[ext_resource type="AudioStream" uid="uid://cch4m3531fkpg" path="res://1_sound/enemyhit4.mp3" id="21_fj6e6"]
[ext_resource type="Texture2D" uid="uid://bwdo77nwhty3" path="res://0_sprites/original/CastleHill.png" id="21_hvubb"]
[ext_resource type="Script" uid="uid://d2plc2i5sqm57" path="res://camera_target.gd" id="25_fj6e6"]
[ext_resource type="Texture2D" uid="uid://bgfdr2q2n8mxq" path="res://0_sprites/original/rockwall_1.png" id="28_hvubb"]

[sub_resource type="InputEventKey" id="InputEventKey_mleqk"]
device = -1
keycode = 4194309

[sub_resource type="InputEventKey" id="InputEventKey_6btg4"]
device = -1
keycode = 32
unicode = 32

[sub_resource type="InputEventKey" id="InputEventKey_sl4om"]
device = -1
keycode = 4194305

[sub_resource type="InputEventMouseButton" id="InputEventMouseButton_dtg4e"]
button_mask = 1
position = Vector2(272, 22)
global_position = Vector2(281, 70)
button_index = 1
pressed = true

[sub_resource type="InputEventMouseButton" id="InputEventMouseButton_ut2i6"]
button_mask = 2
position = Vector2(538, 23)
global_position = Vector2(547, 71)
button_index = 2
pressed = true

[sub_resource type="Shortcut" id="Shortcut_0mnfp"]
events = [SubResource("InputEventKey_mleqk"), SubResource("InputEventKey_6btg4"), SubResource("InputEventKey_sl4om"), SubResource("InputEventMouseButton_dtg4e"), SubResource("InputEventMouseButton_ut2i6")]

[sub_resource type="Gradient" id="Gradient_f2txt"]
offsets = PackedFloat32Array(0.8429561)
colors = PackedColorArray(0.94509804, 0.94509804, 0.9019608, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_1ainy"]
gradient = SubResource("Gradient_f2txt")
width = 1920
height = 1080

[sub_resource type="Curve2D" id="Curve2D_n6hdu"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 1083, 990, 0, 0, 0, 0, 1272.947, 871.61176, 0, 0, 0, 0, 1461, 801)
}
point_count = 3

[sub_resource type="Curve2D" id="Curve2D_8cye3"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 1649, 905, 0, 0, 0, 0, 2146, 930, 0, 0, 0, 0, 2300, 753)
}
point_count = 3

[sub_resource type="Curve2D" id="Curve2D_h6smj"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 2891, 1108, 0, 0, 0, 0, 2694, 932, 0, 0, 0, 0, 2310, 867, 0, 0, 0, 0, 2020, 851)
}
point_count = 4

[sub_resource type="Curve2D" id="Curve2D_v5j5c"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 2736, 1098, 0, 0, 0, 0, 2634, 1025, 0, 0, 0, 0, 2429, 949, 0, 0, 0, 0, 1961, 916)
}
point_count = 4

[sub_resource type="Curve2D" id="Curve2D_5pxul"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 3042, 1094, 0, 0, 0, 0, 2638, 840, 0, 0, 0, 0, 2102, 795)
}
point_count = 3

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_2h3vt"]
random_pitch = 1.0594631
random_volume_offset_db = 1.0
streams_count = 4
stream_0/stream = ExtResource("18_ilwjd")
stream_1/stream = ExtResource("19_y3bce")
stream_2/stream = ExtResource("20_u3yai")
stream_3/stream = ExtResource("21_fj6e6")

[sub_resource type="Resource" id="Resource_v5j5c"]
script = ExtResource("3_oi3di")
amount = 25
metadata/_custom_type_script = "uid://dr2xkieskyly1"

[sub_resource type="Resource" id="Resource_5pxul"]
script = ExtResource("3_oi3di")
amount = 25
metadata/_custom_type_script = "uid://dr2xkieskyly1"

[sub_resource type="Resource" id="Resource_fedht"]
script = ExtResource("3_oi3di")
amount = 5
metadata/_custom_type_script = "uid://dr2xkieskyly1"

[node name="Level" type="Node2D" unique_id=800733794]
script = ExtResource("1_vonw3")

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=557764138]
process_mode = 3

[node name="UI" type="Control" parent="CanvasLayer" unique_id=138463520]
unique_name_in_owner = true
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
theme = ExtResource("17_fedht")

[node name="SettingsPanel" type="PanelContainer" parent="CanvasLayer/UI" unique_id=29314953]
unique_name_in_owner = true
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
theme = ExtResource("17_fedht")
theme_type_variation = &"MainMenu"

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer/UI/SettingsPanel" unique_id=1896028300]
layout_mode = 2

[node name="SettingsContainer" parent="CanvasLayer/UI/SettingsPanel/CenterContainer" unique_id=600335656 instance=ExtResource("3_4c15r")]
unique_name_in_owner = true
layout_mode = 2
show_main_menu_button = true

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/UI" unique_id=805154273]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 20

[node name="SettingsButton" type="Button" parent="CanvasLayer/UI/MarginContainer" unique_id=728395382]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 0
theme = ExtResource("17_fedht")
text = "Settings"

[node name="Panel" type="PanelContainer" parent="CanvasLayer/UI/MarginContainer" unique_id=1860548651]
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 0

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/UI/MarginContainer/Panel" unique_id=856032204]
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 0
mouse_filter = 2

[node name="ScoreLabel" type="RichTextLabel" parent="CanvasLayer/UI/MarginContainer/Panel/HBoxContainer" unique_id=1197161511]
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 0
theme = ExtResource("17_fedht")
text = "Score:"
fit_content = true
autowrap_mode = 0

[node name="ScoreCount" type="RichTextLabel" parent="CanvasLayer/UI/MarginContainer/Panel/HBoxContainer" unique_id=37801767]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 0
text = "0"
fit_content = true
autowrap_mode = 0

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/UI/MarginContainer" unique_id=1218123544]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 0

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/UI/MarginContainer/PanelContainer" unique_id=436754590]
layout_mode = 2

[node name="WaveLabel" type="RichTextLabel" parent="CanvasLayer/UI/MarginContainer/PanelContainer/HBoxContainer" unique_id=1954958272]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 0
text = "Wave:"
fit_content = true
autowrap_mode = 0

[node name="WaveCount" type="RichTextLabel" parent="CanvasLayer/UI/MarginContainer/PanelContainer/HBoxContainer" unique_id=1113716435]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 0
text = "1"
fit_content = true
autowrap_mode = 0

[node name="Tutorial" type="CanvasLayer" parent="." unique_id=541473433]
unique_name_in_owner = true
script = ExtResource("4_mleqk")

[node name="Control" type="PanelContainer" parent="Tutorial" unique_id=729209126]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="MarginContainer" type="MarginContainer" parent="Tutorial/Control" unique_id=952189147]
layout_mode = 2
theme_override_constants/margin_top = 300
theme_override_constants/margin_bottom = 500

[node name="TextContainer" type="MarginContainer" parent="Tutorial/Control/MarginContainer" unique_id=1716782914]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 0

[node name="T1" type="RichTextLabel" parent="Tutorial/Control/MarginContainer/TextContainer" unique_id=1934987368]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme = ExtResource("5_6btg4")
text = "A small italian village...
A greedy corporation..."
fit_content = true
autowrap_mode = 0
visible_characters = 53
visible_ratio = 1.06

[node name="T2" type="RichTextLabel" parent="Tutorial/Control/MarginContainer/TextContainer" unique_id=254111506]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme = ExtResource("5_6btg4")
text = "Defend yourself with your only resource."
fit_content = true
autowrap_mode = 0

[node name="T3" type="RichTextLabel" parent="Tutorial/Control/MarginContainer/TextContainer" unique_id=559606542]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme = ExtResource("5_6btg4")
text = "OLIVE OIL!
Farm the olives from the trees,
put it into the press,
boil it and then..."
fit_content = true
autowrap_mode = 0

[node name="T4" type="RichTextLabel" parent="Tutorial/Control/MarginContainer/TextContainer" unique_id=166166594]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme = ExtResource("5_6btg4")
text = "... HANDLE the intruders.
By pouring the oil onto them."
fit_content = true
autowrap_mode = 0

[node name="T5" type="RichTextLabel" parent="Tutorial/Control/MarginContainer/TextContainer" unique_id=1924775966]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme = ExtResource("5_6btg4")
text = "Click on stuff to do things,
use your mouse to navigate or 
press the LEFT and RIGHT keys."
fit_content = true
autowrap_mode = 0

[node name="T6" type="RichTextLabel" parent="Tutorial/Control/MarginContainer/TextContainer" unique_id=992249654]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme = ExtResource("5_6btg4")
text = "Godspeed, friend."
fit_content = true
autowrap_mode = 0

[node name="NextButton" type="Button" parent="Tutorial/Control/MarginContainer" unique_id=996308883]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8
theme = ExtResource("17_fedht")
shortcut = SubResource("Shortcut_0mnfp")
shortcut_feedback = false
shortcut_in_tooltip = false
text = "Next"

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="." unique_id=34172086]
process_mode = 3
stream = ExtResource("4_fj6e6")
volume_db = -5.0
autoplay = true
bus = &"Music"
parameters/looping = true

[node name="GameController" parent="." unique_id=1661171547 node_paths=PackedStringArray("attacker_controller", "wave_controller") instance=ExtResource("2_v5j5c")]
attacker_controller = NodePath("../AttackerController")
wave_controller = NodePath("../WaveController")

[node name="AttackerController" parent="." unique_id=726532179 node_paths=PackedStringArray("attacker_pain_audio") instance=ExtResource("2_aicyk")]
attacker_pain_audio = NodePath("../AttackerPainAudio")

[node name="OilRefineryController" parent="." unique_id=1430434229 node_paths=PackedStringArray("oil_barrel_transporter_path") instance=ExtResource("2_km5ld")]
oil_barrel_transporter_path = NodePath("../OilBarrelTransporterPath")

[node name="OliveCollectionController" parent="." unique_id=1931790365 instance=ExtResource("2_0b4ue")]

[node name="BoilingStationController" parent="." unique_id=1168486281 instance=ExtResource("4_8cye3")]

[node name="WallController" parent="." unique_id=296820452 instance=ExtResource("5_2orkt")]

[node name="WaveController" parent="." unique_id=726057860 node_paths=PackedStringArray("attacker_spawn_points") instance=ExtResource("7_h6smj")]
attacker_spawn_points = [NodePath("../AttackerPath1"), NodePath("../AttackerPath2"), NodePath("../AttackerPath3")]

[node name="BG" type="Sprite2D" parent="." unique_id=1954753282]
texture = SubResource("GradientTexture2D_1ainy")
centered = false
metadata/_edit_lock_ = true

[node name="Background" type="Node2D" parent="." unique_id=76746008]
metadata/_edit_lock_ = true

[node name="Bg" type="Sprite2D" parent="Background" unique_id=2072365656]
position = Vector2(2880, 540)
texture = ExtResource("14_mleqk")
flip_h = true

[node name="Ground1" type="Sprite2D" parent="Background" unique_id=1327933846]
position = Vector2(2870, 825)
texture = ExtResource("14_yjxuc")

[node name="FarmFrame1" type="Sprite2D" parent="Background" unique_id=1873876738]
texture = ExtResource("16_6btg4")
centered = false

[node name="OliveTransporterPath" type="Path2D" parent="." unique_id=980445474]
curve = SubResource("Curve2D_n6hdu")

[node name="OliveTransporter" parent="OliveTransporterPath" unique_id=1043901175 instance=ExtResource("5_f2txt")]
position = Vector2(1083, 990)

[node name="OilRefinery" parent="." unique_id=511384656 instance=ExtResource("7_n6hdu")]
position = Vector2(1651, 709)

[node name="OilBarrelTransporterPath" type="Path2D" parent="." unique_id=440225832]
curve = SubResource("Curve2D_8cye3")

[node name="BoilingStation" parent="." unique_id=1758307242 instance=ExtResource("9_8cye3")]
position = Vector2(2296, 840)

[node name="Wall" parent="." unique_id=2078438762 instance=ExtResource("10_8cye3")]
position = Vector2(3068, 268)

[node name="CastleHill" type="Sprite2D" parent="." unique_id=2081966718]
position = Vector2(3050, 665)
texture = ExtResource("21_hvubb")

[node name="Rockwall1" type="Sprite2D" parent="." unique_id=892834518]
position = Vector2(2642, 806)
scale = Vector2(0.36235252, 0.36235243)
texture = ExtResource("28_hvubb")

[node name="AttackerPath1" type="Path2D" parent="." unique_id=1280330733]
position = Vector2(777, 67)
curve = SubResource("Curve2D_h6smj")

[node name="AttackerPath2" type="Path2D" parent="." unique_id=483320874]
position = Vector2(777, 67)
curve = SubResource("Curve2D_v5j5c")

[node name="AttackerPath3" type="Path2D" parent="." unique_id=936558252]
position = Vector2(777, 67)
curve = SubResource("Curve2D_5pxul")

[node name="AttackerPainAudio" type="AudioStreamPlayer2D" parent="." unique_id=784897357]
position = Vector2(1516, 691)
stream = SubResource("AudioStreamRandomizer_2h3vt")
volume_db = 1.0
bus = &"Sfx"

[node name="WallOilPour" parent="." unique_id=1221194213 instance=ExtResource("13_8b0r0")]
position = Vector2(3071, 476)

[node name="OliveTree1" parent="." unique_id=1680221023 instance=ExtResource("2_vonw3")]
position = Vector2(498, 694)
olives = SubResource("Resource_v5j5c")

[node name="OliveTree2" parent="." unique_id=247438807 instance=ExtResource("2_vonw3")]
position = Vector2(810, 834)
olives = SubResource("Resource_5pxul")

[node name="OliveTree3" parent="." unique_id=1715293771 instance=ExtResource("2_vonw3")]
position = Vector2(226, 894)
olives = SubResource("Resource_fedht")

[node name="CameraTarget" type="Node2D" parent="." unique_id=1589072603]
position = Vector2(959, 540)
script = ExtResource("25_fj6e6")

[node name="Camera2D" type="Camera2D" parent="CameraTarget" unique_id=36725893]
limit_left = 0
limit_top = 0
limit_right = 3830
limit_bottom = 1080
limit_smoothed = true
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_left_margin = 0.8
drag_right_margin = 0.8
editor_draw_drag_margin = true

[node name="Timer" type="Timer" parent="CameraTarget" unique_id=1211243562]
